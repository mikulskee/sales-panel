(this["webpackJsonpsales-panel"]=this["webpackJsonpsales-panel"]||[]).push([[0],{135:function(e,t,a){e.exports=a(151)},140:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),c=a.n(r),i=(a(140),a(54)),o=a(15),u=a(85),s=a.n(u);a(143),a(144);s.a.initializeApp({apiKey:"AIzaSyBE_yMVi09qe0Nksxx3B-Cok-1XQhknp3M",authDomain:"salespanel-1bd4a.firebaseapp.com",databaseURL:"https://salespanel-1bd4a.firebaseio.com",projectId:"salespanel-1bd4a",storageBucket:"salespanel-1bd4a.appspot.com",messagingSenderId:"717768548602",appId:"1:717768548602:web:f6e09b7db3f0c09c682943"});var m=s.a,p=a(68),b=a(36),d=a(7),f=a(152),g=a(58),E=a(185),y=a(186),h=a(187),O=a(213),j=a(214),x=a(188),v=a(154),S=a(189),C=a(207),w=a(102),k=a.n(w),D=a(103),z=a.n(D),V=Object(o.g)((function(e){var t=Object(n.useState)({password:"",login:"",showPassowrd:!1}),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),o=Object(d.a)(i,2),u=o[0],s=o[1],w=Object(n.useState)(null),D=Object(d.a)(w,2),V=D[0],M=D[1],A=function(e){return function(t){c(Object(b.a)(Object(b.a)({},r),{},Object(p.a)({},e,t.target.value)))}};return l.a.createElement(f.a,{style:{width:"400px",height:"320px",margin:"60px auto 0",padding:"40px"}},l.a.createElement(g.a,{variant:"h6",gutterBottom:!0,style:{textAlign:"center"}},"Logowanie"),l.a.createElement(E.a,{container:!0,justify:"center",alignItems:"center"},u?l.a.createElement(y.a,null):l.a.createElement("form",{onSubmit:function(){console.log(r)}},l.a.createElement(E.a,{container:!0,spacing:2,direction:"column"},l.a.createElement(E.a,{item:!0,style:{display:"flex",justifyContent:"center"}},l.a.createElement(h.a,{variant:"outlined"},l.a.createElement(O.a,{htmlFor:"outlined"},"Login"),l.a.createElement(j.a,{id:"outlined",label:"Login",variant:"outlined",value:r.login,onChange:A("login"),style:{margin:"0 auto",width:"240px"}}))),l.a.createElement(E.a,{item:!0,style:{display:"flex",justifyContent:"center"}},l.a.createElement(h.a,{variant:"outlined"},l.a.createElement(O.a,{htmlFor:"outlined-adornment-password"},"Has\u0142o"),l.a.createElement(j.a,{id:"outlined-adornment-password",type:r.showPassword?"text":"password",onChange:A("password"),value:r.password,endAdornment:l.a.createElement(x.a,{position:"end"},l.a.createElement(v.a,{"aria-label":"toggle password visibility",onClick:function(){c(Object(b.a)(Object(b.a)({},r),{},{showPassword:!r.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},r.showPassword?l.a.createElement(k.a,null):l.a.createElement(z.a,null))),labelWidth:70}))),l.a.createElement(S.a,{variant:"contained",color:"primary",style:{width:"150px",margin:"20px auto 0"},onClick:function(){s(!0),m.auth().signInWithEmailAndPassword(r.login,r.password).then((function(e){s(!1)})).catch((function(e){s(!1),c(Object(b.a)(Object(b.a)({},r),{},{password:"",login:""})),"The password is invalid or the user does not have a password."===e.message&&(M("Podane has\u0142o jest nieprawid\u0142owe."),s(!1)),"There is no user record corresponding to this identifier. The user may have been deleted."===e.message&&(M("Brak u\u017cytkownika o podanym mailu w bazie danych."),s(!1),c(Object(b.a)(Object(b.a)({},r),{},{password:"",login:""})))})),c(Object(b.a)(Object(b.a)({},r),{},{password:"",login:""}))}},"Zaloguj si\u0119"),V?l.a.createElement(C.a,{severity:"error"},V):null))))})),M=Object(n.createContext)(),A=function(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),r=a[0],c=a[1];return l.a.createElement(M.Provider,{value:{companyState:r,setCompanyState:c}},e.children)},P=Object(n.createContext)(),I=function(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),r=a[0],c=a[1];return l.a.createElement(P.Provider,{value:{users:r,setUsers:c}},e.children)},F=Object(n.createContext)(),B=function(e){var t=Object(n.useState)(),a=Object(d.a)(t,2),r=a[0],c=a[1];return l.a.createElement(F.Provider,{value:{personalData:r,setPersonalData:c}},e.children)},T=Object(o.g)((function(e){var t=Object(n.useContext)(F).setPersonalData,a=Object(n.useContext)(P),r=a.users,c=a.setUsers,i=Object(n.useContext)(M).setCompanyState;return Object(n.useEffect)((function(){r&&e.history.push("/dashboard")})),Object(n.useEffect)((function(){var e=document.querySelector(".loginRef"),a=document.querySelector(".loader");m.auth().onAuthStateChanged((function(n){n?(m.firestore().collection("users").onSnapshot((function(e){c(e.docs.map((function(e){return e.data()})))})),m.firestore().collection("personal-data").doc("".concat(n.uid)).onSnapshot((function(e){return t(e.data())})),m.firestore().collection("company-state-general").onSnapshot((function(e){i(e.docs.map((function(e){return e.data()})))})),e.style.display="none"):(e.style.display="block",a.style.display="none",t(n),c(n))}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{container:!0,justify:"center",alignItems:"center",style:{marginTop:"40px"}},l.a.createElement(E.a,{item:!0},l.a.createElement(y.a,{className:"loader",style:{width:"80px",height:"80px"}})),l.a.createElement(E.a,{className:"loginRef",item:!0,style:{display:"none"}},l.a.createElement(V,null))))})),L=a(22),Y=a(23);function U(){var e=Object(L.a)(["\n  font-family: 'Squada One', cursive;\n  color: #099be2;\n  span {\n    color: #086d9e;\n    font-family: 'Squada One', cursive;\n  }\n"]);return U=function(){return e},e}var Z=Y.a.h1(U()),G=a(215);function W(){var e=Object(L.a)(["\n  background-color: #9afff9;\n"]);return W=function(){return e},e}var N=Y.a.header(W()),R=Object(o.g)((function(e){var t,a=Object(n.useContext)(F).personalData,r=Object(n.useContext)(P).users;return l.a.createElement(N,null,l.a.createElement(E.a,{container:!0,style:{padding:"20px"},justify:"space-between"},l.a.createElement(E.a,{item:!0,style:{display:"flex",alignItems:"center"}},l.a.createElement(Z,null,l.a.createElement("span",null,"Sales")," Panel")),l.a.createElement(E.a,{item:!0},l.a.createElement(E.a,{container:!0,spacing:2},l.a.createElement(E.a,{item:!0},a?l.a.createElement(G.a,{style:{color:"black",backgroundColor:"".concat((t=a.initials,a?"AK"===t?r.filter((function(e){return"QA"===e.initials}))[0].color:r.filter((function(e){return e.initials===t}))[0].color:void 0)),width:"60px",height:"60px"},src:r.filter((function(e){return e.initials===a.initials})).length>0?r.filter((function(e){return e.initials===a.initials}))[0].img:null},r.filter((function(e){return e.initials===a.initials})).length>0?null:a.initials):a),l.a.createElement(E.a,{item:!0,style:{display:"flex",alignItems:"center"}},a?l.a.createElement(g.a,{variant:"h6"},a.name):a),l.a.createElement(E.a,{item:!0,style:{display:"flex",alignItems:"center"}},a?l.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(t){t.preventDefault(),e.history.push("/"),m.auth().signOut()}},"Wyloguj"):a)))))})),q=a(27),H=a.n(q),K=(a(98),a(156)),Q=a(198),J=a(199),X=a(205),$=a(216),_=a(200),ee=a(201),te=a(191),ae=a(196),ne=a(108),le=a.n(ne),re=a(109),ce=a.n(re),ie=a(65),oe=a.n(ie),ue=a(64),se=a.n(ue),me=Object(n.createContext)(),pe=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),o=Object(d.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)(!1),p=Object(d.a)(m,2),b=p[0],f=p[1],g=Object(n.useState)("true"),E=Object(d.a)(g,2),y=E[0],h=E[1],O=Object(n.useState)("true"),j=Object(d.a)(O,2),x=j[0],v=j[1],S=Object(n.useState)("true"),C=Object(d.a)(S,2),w=C[0],k=C[1];Object(n.useEffect)((function(){localStorage.getItem("personalStateVisible")?h(localStorage.getItem("personalStateVisible")):localStorage.setItem("personalStateVisible","".concat(y))}),[]);Object(n.useEffect)((function(){localStorage.getItem("companyGeneralStateVisible")?v(localStorage.getItem("companyGeneralStateVisible")):localStorage.setItem("companyGeneralStateVisible","".concat(x))}),[]);Object(n.useEffect)((function(){localStorage.getItem("companyMonthlyStateVisible")?k(localStorage.getItem("companyMonthlyStateVisible")):localStorage.setItem("companyMonthlyStateVisible","".concat(w))}),[]);return l.a.createElement(me.Provider,{value:{successSnackbarOpen:u,setSuccessSnackbarOpen:s,failSnackbarOpen:b,setFailSnackbarOpen:f,personalStateVisible:y,changePersonalStateVisible:function(e){h(e),localStorage.setItem("personalStateVisible",e)},companyGeneralStateVisible:x,changeCompanyGeneralStateVisible:function(e){v(e),localStorage.setItem("companyGeneralStateVisible",e)},successDeleteSnackbarOpen:r,setSuccessDeleteSnackbarOpen:c,companyMonthlyStateVisible:w,changeCompanyMonthlyStateVisible:function(e){k(e),localStorage.setItem("companyMonthlyStateVisible",e)}}},e.children)},be=a(211);function de(){var e=Object(L.a)(["\n  &.MuiButton-contained {\n    background-color: #ff0000 !important;\n    color: white;\n  }\n"]);return de=function(){return e},e}function fe(){var e=Object(L.a)(["\n  &.MuiButton-outlined {\n    border-color: #616161 !important;\n    color: white;\n  }\n"]);return fe=function(){return e},e}function ge(){var e=Object(L.a)(["\n  & .MuiPaper-root {\n    background-color: #383838;\n  }\n"]);return ge=function(){return e},e}var Ee=Object(Y.a)(be.a)(ge()),ye=Object(Y.a)(S.a)(fe()),he=Object(Y.a)(S.a)(de()),Oe=function(e){var t=e.deleteConfirmationDialogVisible,a=e.setDeleteConfirmationDialogVisible,n=e.handleDeleteData,r=e.itemToDelete,c=function(){a(!1)};return l.a.createElement(Ee,{onClose:c,"aria-labelledby":"simple-dialog-title",open:t},l.a.createElement(E.a,{item:!0,style:{backgroundColor:"#383838",color:"white",padding:"30px"}},l.a.createElement(g.a,{variant:"h5",gutterBottom:!0},"Czy na pewno chcesz usun\u0105\u0107 wybrane zlecenie?"),l.a.createElement(g.a,null,"Tej czynno\u015b\u0107 nie b\u0119dzie mo\u017cna cofn\u0105\u0107."),l.a.createElement(E.a,{container:!0,justify:"space-between",style:{marginTop:"40px"}},l.a.createElement(ye,{variant:"outlined",onClick:c},"Anuluj"),l.a.createElement(he,{variant:"contained",onClick:n(r)},"Usu\u0144"))))},je=a(107),xe=a(209),ve=a(192),Se=a(208),Ce=a(210),we=a(206),ke=a(197),De=a(217),ze=a(19),Ve=a(203);function Me(){var e=Object(L.a)(["\n  background-color: #5f5f5f !important;\n  width: 100%;\n"]);return Me=function(){return e},e}function Ae(){var e=Object(L.a)(["\n  width: 100%;\n  color: red !important;\n  text-align: center;\n"]);return Ae=function(){return e},e}function Pe(){var e=Object(L.a)(["\n  span {\n    color: black !important;\n  }\n"]);return Pe=function(){return e},e}function Ie(){var e=Object(L.a)(["\n  & * {\n    color: white !important;\n  }\n"]);return Ie=function(){return e},e}var Fe=Y.a.form(Ie()),Be=Object(Y.a)($.a)(Pe()),Te=Object(Y.a)(g.a)(Ae()),Le=Object(Y.a)(te.a)(Me()),Ye=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),o=Object(d.a)(i,2),u=o[0],s=o[1],p=Object(n.useState)(""),b=Object(d.a)(p,2),y=b[0],x=b[1],v=Object(n.useState)(""),C=Object(d.a)(v,2),w=C[0],k=C[1],D=Object(n.useState)(""),z=Object(d.a)(D,2),V=z[0],M=z[1],A=Object(n.useState)(!1),I=Object(d.a)(A,2),B=I[0],T=I[1],L=Object(n.useState)(""),Y=Object(d.a)(L,2),U=Y[0],Z=Y[1],G=Object(n.useState)(H()(new Date)),W=Object(d.a)(G,2),N=W[0],R=W[1],q=Object(n.useState)(!1),K=Object(d.a)(q,2),Q=K[0],J=K[1],X=Object(n.useState)(!1),$=Object(d.a)(X,2),_=$[0],ee=$[1],te=Object(n.useState)(!1),ae=Object(d.a)(te,2),ne=ae[0],le=ae[1],re=Object(n.useState)(),ce=Object(d.a)(re,2),ie=ce[0],oe=ce[1],ue=Object(n.useState)(),se=Object(d.a)(ue,2),pe=se[0],be=se[1],de=e.admin,fe=e.handleClose,ge=e.dataToEdit,Ee=e.setEditDialogVisible,ye=Object(n.useContext)(F).personalData,he=Object(n.useContext)(me).setSuccessSnackbarOpen,Oe=Object(n.useContext)(P).users;Object(n.useEffect)((function(){console.log(H()(N).add(14,"days").format("L"))})),Object(n.useEffect)((function(){ge&&(c(ge.title),R(ge.rawDate),M(ge.user),ge.timestamp?s(!1):s(!0),"string"===typeof ge.plus?(console.log("plus"),""===ge.plus?k("Brak"):k(ge.plus)):""===ge.minus?x("Brak"):x(ge.minus))}),[ge]),Object(n.useEffect)((function(){Oe&&oe(Oe.map((function(e){return l.a.createElement(ve.a,{key:e.img,value:e.initials,control:l.a.createElement(Se.a,null),label:l.a.createElement(Be,{label:e.initials,style:{backgroundColor:"".concat(e.color)}}),labelPlacement:"top"})})))}),[oe,Oe]),Object(n.useEffect)((function(){V&&be(Oe.filter((function(e){return e.initials!==V})).map((function(e){return l.a.createElement(ve.a,{key:e.img,value:e.initials,control:l.a.createElement(Se.a,null),label:l.a.createElement(Be,{label:e.initials,style:{backgroundColor:"".concat(e.color)}}),labelPlacement:"top"})})))}),[be,Oe,V]);var Me=function(e){return function(t){_&&ee(!1),e?(k(t.target.value),x("")):(x(t.target.value),k(""))}},Ae=function(e){return"Brak"===e?"":""===e?null:e},Pe=function(){if(!r&&!y&&!w)return J(!0),void ee(!0);if(r)if(y||w){if(!Q&&!_){var e="".concat(ge?ge.id:Object(xe.a)());m.firestore().collection("company-state-general").doc(e).set({title:r,date:H()(N).format("L"),minus:Ae(y),plus:Ae(w),user:"".concat(de?V:ye.initials),temporaryCommision:B,nextUser:U,commisionChangeDate:H()(N).add(14,"days").format("L"),rawDate:"".concat(N),timestamp:u?ne?H()(new Date).format("MMMM YYYY"):"":H()(new Date).format("MMMM YYYY"),id:e}).then((function(){return he(!0)})).catch((function(e){return console.log(e)})),ge?Ee(!1):fe()}}else ee(!0);else J(!0)};return l.a.createElement(f.a,{style:{width:"500px",padding:"50px",backgroundColor:"#383838",color:"#fff"},elevation:3},l.a.createElement(g.a,{variant:"h6",gutterBottom:!0,style:{textAlign:"center"}},"Zarz\u0105dzanie klientami"),l.a.createElement(Le,null),l.a.createElement(Fe,{style:{marginTop:"20px"}},l.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3},l.a.createElement(E.a,{item:!0},l.a.createElement(h.a,{variant:"outlined"},l.a.createElement(O.a,{htmlFor:"name",style:{color:"#fff"}},"Nazwa zlecenia"),l.a.createElement(j.a,{error:Q,id:"name",label:"Nazwa zlecenia",variant:"outlined",style:{width:"240px"},required:!0,value:r,onChange:function(e){Q&&J(!1),c(e.target.value)}})),Q?l.a.createElement(Te,{variant:"caption",display:"block",gutterBottom:!0},"To pole nie mo\u017ce by\u0107 puste"):null),l.a.createElement(E.a,{item:!0},l.a.createElement(ze.a,{utils:je.a},l.a.createElement(Ve.a,{disableToolbar:!0,variant:"inline",format:"L",margin:"normal",id:"date-picker-inline",label:"Start zlecenia",value:N,onChange:function(e){R(e)},style:{margin:"10px 0 20px"},KeyboardButtonProps:{"aria-label":"change date"}}))),de?l.a.createElement(l.a.Fragment,null,l.a.createElement(Le,null),l.a.createElement(ve.a,{style:{margin:"20px 0"},control:l.a.createElement(Ce.a,{checked:u,onChange:function(e){s(e.target.checked)},name:"oldCommision",color:"primary"}),label:"Zlecenie istniej\u0105ce"})):null,l.a.createElement(Le,null),l.a.createElement(E.a,{container:!0,justify:"center"},l.a.createElement(E.a,{item:!0,style:{textAlign:"center",margin:"20px 20px 20px 0"}},l.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0,style:{textAlign:"center"}},"Zlecenie pozyskane"),l.a.createElement(h.a,{variant:"outlined",style:{width:"100px"}},l.a.createElement(O.a,{id:"plus-reason"},l.a.createElement("em",null,"Pow\xf3d")),l.a.createElement(we.a,{error:_,labelId:"plus-reason",id:"plus",value:w,onChange:Me("plus"),label:"Pow\xf3d"},l.a.createElement(ke.a,{value:"Brak"},"Brak"),l.a.createElement(ke.a,{value:"NZ"},"NZ"),l.a.createElement(ke.a,{value:"DLU"},"DLU")))),l.a.createElement(E.a,{item:!0,style:{textAlign:"center",margin:"20px 0 20px 20px"}},l.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0,style:{textAlign:"center"}},"Zlecenie utracone"),l.a.createElement(h.a,{variant:"outlined",style:{width:"100px"}},l.a.createElement(O.a,{id:"minus-reason"},l.a.createElement("em",null,"Pow\xf3d")),l.a.createElement(we.a,{error:_,labelId:"minus-reason",id:"minus",value:y,onChange:Me(""),label:"MinusReason"},l.a.createElement(ke.a,{value:"Brak"},"Brak"),l.a.createElement(ke.a,{value:"K"},"K"),l.a.createElement(ke.a,{value:"TOD"},"TOD"),l.a.createElement(ke.a,{value:"DLU"},"DLU")))),_?l.a.createElement(E.a,{container:!0},l.a.createElement(Te,{variant:"caption",style:{margin:"-15px 0 20px"}},"Wybierz rodzaj zlecenia")):null),l.a.createElement(Le,null),de?l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{component:"fieldset",style:{margin:"20px 0"}},l.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0,style:{textAlign:"center"}},"Pozyskane przez"),l.a.createElement(De.a,{"aria-label":"user",name:"user1",value:V,onChange:function(e){M(e.target.value)},style:{flexDirection:"row"}},ie)),V?l.a.createElement(ve.a,{style:{margin:"-10px 0 20px"},control:l.a.createElement(Ce.a,{checked:B,onChange:function(e){T(e.target.checked)},name:"temporaryCommision",color:"primary"}),label:"Po 14 dniach:"}):null,B?l.a.createElement(De.a,{"aria-label":"nextUser",name:"user2",value:U,onChange:function(e){Z(e.target.value)},style:{flexDirection:"row",margin:"0px 0 20px"}},pe):null,l.a.createElement(Le,null)):null,ge?l.a.createElement(l.a.Fragment,null,ge.timestamp!==H()(new Date).format("MMMM YYYY")?l.a.createElement(ve.a,{style:{margin:"20px 0"},control:l.a.createElement(Ce.a,{checked:ne,onChange:function(e){le(e.target.checked)},name:"currentMonth",color:"primary"}),label:"Doda\u0107 do bie\u017c\u0105cego miesi\u0105ca?"}):null):null,ge?l.a.createElement(E.a,{container:!0,justify:"space-between"},l.a.createElement(S.a,{style:{margin:"20px 0"},variant:"outlined",color:"primary",onClick:function(){return Ee(!1)}},"Anuluj"),l.a.createElement(S.a,{style:{margin:"20px 0"},variant:"contained",color:"primary",onClick:Pe},"Zapisz")):l.a.createElement(S.a,{style:{margin:"20px 0"},variant:"contained",color:"primary",onClick:Pe},"Zatwierd\u017a"))))};function Ue(){var e=Object(L.a)(["\n  & .MuiPaper-root {\n    background-color: #383838;\n  }\n"]);return Ue=function(){return e},e}var Ze=Object(Y.a)(be.a)(Ue()),Ge=function(e){var t=e.editDialogVisible,a=e.dataToEdit,n=e.setEditDialogVisible;return l.a.createElement(Ze,{open:t,onClose:function(){return n(!1)}},l.a.createElement(Ye,{admin:"admin",dataToEdit:a,setEditDialogVisible:n}))},We=a(57),Ne=a.n(We),Re=function(e){var t=e.checkSize,a=e.companyState,r=e.company,c=e.dataForUnactiveClients,i=e.users,o=e.findChipColor,u=e.admin,s=e.handleOpenEditDialog,m=e.handleOpenDeleteDialog,p=Object(n.useState)(),b=Object(d.a)(p,2),y=b[0],h=b[1];return Object(n.useEffect)((function(){if(c){var e=c.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})).map((function(e,t){return l.a.createElement(K.a,{key:t},l.a.createElement(Q.a,null,l.a.createElement(G.a,null,l.a.createElement(Ne.a,null))),l.a.createElement(J.a,{primary:e.title,secondary:e.date,style:{flex:"none",width:"28%",marginRight:"10px",overflow:"hidden"}}),l.a.createElement(X.a,{component:"span",style:{width:"13%",textAlign:"center"}},l.a.createElement($.a,{label:e.minus,style:{backgroundColor:"#ff9292"}})),l.a.createElement(X.a,{component:"span",style:{width:"14%",textAlign:"center"}},e.user?l.a.createElement(l.a.Fragment,null,i.filter((function(t){return t.initials===e.user}))[0].img?l.a.createElement(_.a,{badgeContent:e.user,color:"primary"},l.a.createElement(G.a,{style:{margin:"0 auto"},src:i.filter((function(t){return t.initials===e.user}))[0].img})):l.a.createElement($.a,{label:e.user,style:{backgroundColor:"".concat(o(e.user))}})):null),l.a.createElement(X.a,{component:"span",style:{width:"14%",textAlign:"center"}},e.timestamp?null:l.a.createElement($.a,{label:"OLD",style:{backgroundColor:"#252c61",color:"white"}})),u?l.a.createElement(ee.a,null,l.a.createElement(v.a,{edge:"end","aria-label":"create",onClick:s(e)},l.a.createElement(se.a,null)),l.a.createElement(v.a,{edge:"end","aria-label":"delete",onClick:m(e)},l.a.createElement(oe.a,null))):null)}));h(e)}}),[c]),l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{item:!0,xs:11,lg:t(),xl:a?5:11,style:{margin:"10px 5px"}},l.a.createElement(f.a,{elevation:3,style:{padding:"20px 0",backgroundColor:"#a9a9a9"}},l.a.createElement(g.a,{variant:"h6",style:{padding:"10px 20px"}},"Niefakturowani klienci",y?l.a.createElement($.a,{label:y.length,style:{marginLeft:"10px"}}):null),l.a.createElement(te.a,{light:!0}),l.a.createElement(ae.a,{style:{maxHeight:"".concat(r?"575px":"260px"),overflowY:"auto"}},y))))},qe=function(e){var t=Object(n.useContext)(F).personalData,a=Object(n.useContext)(P).users,r=Object(n.useContext)(me),c=r.personalStateVisible,i=r.companyMonthlyStateVisible,u=r.companyGeneralStateVisible,s=r.setSuccessDeleteSnackbarOpen,p=Object(n.useState)(!1),b=Object(d.a)(p,2),h=b[0],O=b[1],j=Object(n.useState)(78),x=Object(d.a)(j,1)[0],S=Object(n.useState)(!1),C=Object(d.a)(S,2),w=C[0],k=C[1],D=Object(n.useState)(),z=Object(d.a)(D,2),V=z[0],M=z[1],A=Object(n.useState)(null),I=Object(d.a)(A,2),B=I[0],T=I[1],L=Object(n.useState)(null),Y=Object(d.a)(L,2),U=Y[0],Z=Y[1],W=Object(n.useState)(),N=Object(d.a)(W,2),R=N[0],q=N[1],H=Object(n.useState)(),ne=Object(d.a)(H,2),re=ne[0],ie=ne[1],ue=Object(n.useState)(),pe=Object(d.a)(ue,2),be=pe[0],de=pe[1],fe=Object(n.useState)(),ge=Object(d.a)(fe,2),Ee=ge[0],ye=ge[1],he=Object(n.useState)(!1),je=Object(d.a)(he,2),xe=je[0],ve=je[1],Se=Object(n.useState)(),Ce=Object(d.a)(Se,2),we=Ce[0],ke=Ce[1],De=e.data,ze=e.admin,Ve=e.title,Me=e.company,Ae=e.subtitle,Pe=e.dataForUnactiveClients,Ie=function(e){return function(t){k(!0),M(e)}},Fe=function(e){return function(t){O(!0),ke(e)}},Be=function(e){return t?a.filter((function(t){return t.initials===e}))[0].color:void 0},Te=function(){return xe?"true"===c||"true"===i?11:5:"true"===u?11:5};Object(n.useEffect)((function(){Me&&ve(!0)}),[Me]),Object(n.useEffect)((function(){De&&(ie(De.filter((function(e){return""===e.plus||e.plus?e:null})).sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0}))),q(De.filter((function(e){return""===e.minus||e.minus?e:null})).sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0}))))}),[De]),Object(n.useEffect)((function(){if(re&&R){var e=re.length-R.length;T(e>0?"+".concat(e):"".concat(e))}}),[re,R]),Object(n.useEffect)((function(){if(re){var e=re.map((function(e,t){return l.a.createElement(K.a,{key:t},l.a.createElement(Q.a,null,l.a.createElement(G.a,null,l.a.createElement(le.a,null))),l.a.createElement(J.a,{primary:e.title,secondary:e.date,style:{flex:"none",width:"28%",marginRight:"10px",overflow:"hidden"}}),l.a.createElement(X.a,{component:"span",style:{width:"13%",textAlign:"center"}},e.plus?l.a.createElement($.a,{label:e.plus,style:{backgroundColor:"#a2ef9d"}}):null),l.a.createElement(X.a,{component:"span",style:{width:"14%",textAlign:"center"}},e.user?l.a.createElement(l.a.Fragment,null,a.filter((function(t){return t.initials===e.user}))[0].img?l.a.createElement(_.a,{badgeContent:e.user,color:"primary"},l.a.createElement(G.a,{style:{margin:"0 auto"},src:a.filter((function(t){return t.initials===e.user}))[0].img})):l.a.createElement($.a,{label:e.user,style:{backgroundColor:"".concat(Be(e.user))}})):null),l.a.createElement(X.a,{component:"span",style:{width:"14%",textAlign:"center"}},e.timestamp?null:l.a.createElement($.a,{label:"OLD",style:{backgroundColor:"#252c61",color:"white"}})),Me?l.a.createElement(l.a.Fragment,null,ze?l.a.createElement(ee.a,null,l.a.createElement(v.a,{edge:"end","aria-label":"create",onClick:Ie(e)},l.a.createElement(se.a,null)),l.a.createElement(v.a,{edge:"end","aria-label":"delete",onClick:Fe(e)},l.a.createElement(oe.a,null))):null):null)}));de(e)}}),[de,re]),Object(n.useEffect)((function(){if(R){var e=R.map((function(e,t){return l.a.createElement(K.a,{key:t},l.a.createElement(Q.a,null,l.a.createElement(G.a,null,l.a.createElement(ce.a,null))),l.a.createElement(J.a,{primary:e.title,secondary:e.date,style:{flex:"none",width:"28%",marginRight:"10px",overflow:"hidden"}}),l.a.createElement(X.a,{component:"span",style:{width:"18%",textAlign:"center"}},e.minus?l.a.createElement($.a,{label:e.minus,style:{backgroundColor:"#ff9292"}}):null),l.a.createElement(X.a,{component:"span",style:{width:"12%",textAlign:"center"}},e.user?l.a.createElement(l.a.Fragment,null,a.filter((function(t){return t.initials===e.user}))[0].img?l.a.createElement(_.a,{badgeContent:e.user,color:"primary"},l.a.createElement(G.a,{style:{margin:"0 auto"},src:a.filter((function(t){return t.initials===e.user}))[0].img})):l.a.createElement($.a,{label:e.user,style:{backgroundColor:"".concat(Be(e.user))}})):null),l.a.createElement(X.a,{component:"span",style:{width:"18%",textAlign:"center"}},e.timestamp?null:l.a.createElement($.a,{label:"OLD",style:{backgroundColor:"#252c61",color:"white"}})),l.a.createElement(l.a.Fragment,null,ze?l.a.createElement(ee.a,null,l.a.createElement(v.a,{edge:"end","aria-label":"create",onClick:Ie(e)},l.a.createElement(se.a,null)),l.a.createElement(v.a,{edge:"end","aria-label":"delete",onClick:Fe(e)},l.a.createElement(oe.a,null))):null))}));ye(e)}}),[ye,R]),Object(n.useEffect)((function(){re&&Z(re.length/x*100)}),[re,x]);var Le=function(e){return l.a.createElement(X.a,{position:"relative",display:"inline-flex",style:{margin:"16px auto",left:"50%",transform:"translatex(-50%)"}},l.a.createElement(y.a,{style:{position:"relative",color:"#cccccc"},variant:"static",value:100,size:80}),l.a.createElement(y.a,Object.assign({style:{position:"absolute"},variant:"static"},e)),l.a.createElement(X.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},l.a.createElement(g.a,{variant:"caption",component:"div",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))};return l.a.createElement(l.a.Fragment,null,a?l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{container:!0,item:!0,xl:5,style:{maxWidth:"1400px",margin:"0 auto"}},l.a.createElement(E.a,{container:!0,justify:"center",direction:"column"},l.a.createElement(g.a,{variant:"".concat(xe?"h4":"h5"),style:{position:"relative",textAlign:"center",margin:"0 auto",marginTop:"20px",color:"white",fontWeight:"bold"}},Ve,xe?null:l.a.createElement(l.a.Fragment,null,B?l.a.createElement($.a,{style:{position:"absolute",left:"105%",padding:"0 5px",backgroundColor:"".concat(B>=0?"#d5ffde":"#ffcbcb")},label:B}):null)),l.a.createElement(g.a,{variant:"subtitle1",style:{textAlign:"center",margin:"0 auto",marginTop:"20px",color:"white"}},Ae)),l.a.createElement(E.a,{container:!0,justify:"center",style:{margin:"20px auto"}},xe?l.a.createElement(E.a,{container:!0,justify:"center"},ze?l.a.createElement(E.a,{item:!0,xs:3,lg:5,xl:3,style:{margin:"10px 5px"}},l.a.createElement(f.a,{elevation:3,style:{padding:"20px",backgroundColor:"#d5f5ff"}},l.a.createElement(g.a,{variant:"h6",style:{position:"relative",paddingBottom:"10px"}},"Stan ca\u0142kowity"," ",re?l.a.createElement($.a,{style:{position:"absolute",right:0},label:"".concat(re.length," / ").concat(x)}):null),l.a.createElement(te.a,{light:!0}),l.a.createElement(Le,{size:80,value:U}),re?l.a.createElement(g.a,{style:{textAlign:"center"}},(11540*re.length).toLocaleString(),"z\u0142 /"," ",l.a.createElement("span",{style:{fontWeight:"bold"}},(11540*x).toLocaleString(),"z\u0142")):null)):null):null,l.a.createElement(E.a,{item:!0,xs:11,lg:Te(),xl:xe?6:11,style:{margin:"10px 5px"}},l.a.createElement(f.a,{elevation:3,style:{padding:"20px 0",backgroundColor:"".concat(Me?"#d5f5ff":"#d5ffde")}},l.a.createElement(g.a,{variant:"h6",style:{padding:"10px 20px"}},Me?"Obs\u0142ugiwani klienci":"Zlecenia pozyskane",re?l.a.createElement($.a,{label:re.length,style:{marginLeft:"10px"}}):null),l.a.createElement(te.a,{light:!0}),l.a.createElement(ae.a,{style:{maxHeight:"".concat(Me?"575px":"260px"),overflowY:"auto"}},be))),Me?l.a.createElement(Re,{checkSize:Te,companyState:xe,company:Me,dataForUnactiveClients:Pe,users:a,findChipColor:Be,admin:ze,handleOpenDeleteDialog:Fe,handleOpenEditDialog:Ie}):l.a.createElement(E.a,{item:!0,xs:11,lg:Te(),xl:xe?5:11,style:{margin:"10px 5px"}},l.a.createElement(f.a,{elevation:3,style:{padding:"20px 0",backgroundColor:"#ffcbcb"}},l.a.createElement(g.a,{variant:"h6",style:{padding:"10px 20px"}},"Zlecenia utracone",R?l.a.createElement($.a,{label:R.length,style:{marginLeft:"10px"}}):null),l.a.createElement(te.a,{light:!0}),l.a.createElement(ae.a,{style:{maxHeight:"".concat(Me?"575px":"260px"),overflowY:"auto"}},Ee))))),l.a.createElement(Oe,{deleteConfirmationDialogVisible:h,setDeleteConfirmationDialogVisible:O,handleDeleteData:function(e){return function(t){e.timestamp&&m.firestore().collection("personal-state-".concat(a.filter((function(t){return t.initials===e.user}))[0].uid)).doc(e.id).delete().then((function(){O(!1),s(!0)})),m.firestore().collection("company-state-general").doc(e.id).delete().then((function(){O(!1),s(!0)}))}},itemToDelete:we}),l.a.createElement(Ge,{editDialogVisible:w,dataToEdit:V,setEditDialogVisible:k})):l.a.createElement(o.a,{to:"/"}))},He=function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),r=a[0],c=a[1],i=Object(n.useContext)(F).personalData,o=e.currentTimestamp,u=e.data;return Object(n.useEffect)((function(){i&&c(i.admin)}),[i]),l.a.createElement(E.a,{container:!0,style:{margin:"0 auto"}},l.a.createElement(f.a,{elevation:3,style:{height:"fit-content",backgroundColor:"#797979",width:"100%",margin:"20px"}},l.a.createElement(qe,{title:"Stan indywidualny",subtitle:"Dane na ".concat(o),data:u,admin:r})))},Ke=function(e){var t=e.dataForUnactiveClients,a=Object(n.useState)(""),r=Object(d.a)(a,2),c=r[0],i=r[1],o=Object(n.useContext)(M).companyState,u=Object(n.useContext)(F).personalData,s=Object(n.useContext)(me),m=s.personalStateVisible,p=s.companyMonthlyStateVisible;Object(n.useEffect)((function(){u&&i(u.admin)}),[u]);return l.a.createElement(E.a,{container:!0,item:!0,lg:"true"===m||"true"===p?7:11,style:{margin:"0 auto"}},l.a.createElement(f.a,{elevation:3,style:{height:"fit-content",backgroundColor:"#4f6984",width:"100%",margin:"20px auto"}},l.a.createElement(qe,{title:"Stan firmowy og\xf3lny",data:o,dataForUnactiveClients:t,admin:c,company:"true"})))},Qe=a(212),Je=a(4),Xe=a(218),$e=a(202),_e=a(111),et=a.n(_e),tt=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(d.a)(c,2),o=i[0],u=i[1],s=Object(n.useContext)(F).personalData,m=Object(Je.a)((function(e){return{tooltip:{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 0px 10px 2px rgba(63, 81, 181, 0.6)"}}}))(Xe.a);Object(n.useEffect)((function(){s&&u(s.admin)}),[s]);var p=function(){r(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(m,{title:l.a.createElement(g.a,{style:{fontSize:"12px"}},"Dodaj zlecenie"),"aria-label":"add",onClick:function(){r(!0)},placement:"left"},l.a.createElement($e.a,{color:"primary"},l.a.createElement(et.a,null))),l.a.createElement(be.a,{onClose:p,"aria-labelledby":"simple-dialog-title",open:a},l.a.createElement(Ye,{admin:o,handleClose:p})))},at=a(112),nt=a.n(at),lt=Object(Je.a)((function(e){return{tooltip:{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 0px 10px 2px rgba(63, 81, 181, 0.6)"}}}))(Xe.a),rt=function(){return l.a.createElement(lt,{title:l.a.createElement(g.a,{style:{fontSize:"12px"}},"Um\xf3w spotkanie"),"aria-label":"add",style:{margin:"20px 0"},placement:"left"},l.a.createElement($e.a,{color:"primary"},l.a.createElement(nt.a,null)))},ct=a(113),it=a.n(ct),ot=function(){var e=Object(Je.a)((function(e){return{tooltip:{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 0px 10px 2px rgba(63, 81, 181, 0.6)"}}}))(Xe.a);return l.a.createElement(e,{title:l.a.createElement(g.a,{style:{fontSize:"12px"}},"Zg\u0142o\u015b problem"),"aria-label":"add",placement:"left"},l.a.createElement($e.a,{color:"primary"},l.a.createElement(it.a,null)))},ut=function(){return l.a.createElement(X.a,{component:"div",style:{position:"fixed",bottom:"60px",right:"40px",display:"flex",flexDirection:"column"}},l.a.createElement(tt,null),l.a.createElement(rt,null),l.a.createElement(ot,null))},st=a(80),mt=a.n(st),pt=function(e){var t=Object(n.useContext)(F).personalData,a=e.currentTimestamp,r=e.data,c=Object(n.useState)(),i=Object(d.a)(c,2),o=i[0],u=i[1];return Object(n.useEffect)((function(){t&&u(t.admin)}),[t]),l.a.createElement(E.a,{container:!0,style:{margin:"0 auto"}},l.a.createElement(f.a,{elevation:3,style:{height:"fit-content",backgroundColor:"#b17b5b",width:"100%",margin:"20px "}},l.a.createElement(qe,{title:"Stan firmowy miesi\u0119czny",subtitle:"Dane na ".concat(a),data:r,admin:o})))},bt=function(e){return l.a.createElement(C.a,Object.assign({elevation:6,variant:"filled"},e))},dt=function(){var e=Object(n.useContext)(me),t=e.setSuccessDeleteSnackbarOpen,a=e.successDeleteSnackbarOpen,r=e.successSnackbarOpen,c=e.setSuccessSnackbarOpen,i=e.changeCompanyGeneralStateVisible,o=e.changePersonalStateVisible,u=e.personalStateVisible,s=e.companyGeneralStateVisible,m=e.companyMonthlyStateVisible,p=e.changeCompanyMonthlyStateVisible,b=Object(n.useState)(),f=Object(d.a)(b,2),g=f[0],y=f[1],h=Object(n.useState)(),O=Object(d.a)(h,2),j=O[0],x=O[1],v=Object(n.useState)(),S=Object(d.a)(v,2),C=S[0],w=S[1],k=Object(n.useState)(),D=Object(d.a)(k,2),z=D[0],V=D[1],A=Object(n.useContext)(M).companyState,P=Object(n.useContext)(F).personalData;Object(n.useEffect)((function(){y(H()(new Date).format("MMMM YYYY"))}),[]),Object(n.useEffect)((function(){A&&P&&(x(A.filter((function(e){return e.timestamp===g}))),V(A.filter((function(e){return e.minus})).filter((function(e){return"DLU"===e.minus}))),P.admin?w(A.filter((function(e){return e.timestamp===g})).filter((function(e){return"QA"===e.user}))):w(A.filter((function(e){return e.timestamp===g})).filter((function(e){return e.user===P.initials}))))}),[x,A,g,P]);var I=function(e,a){"clickaway"!==a&&(c(!1),t(!1))},B=function(e){return function(){"personal"===e?o("true"===u?"false":"true"):"company-general"===e?i("true"===s?"false":"true"):p("true"===m?"false":"true")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{container:!0,item:!0,justify:"space-around",xs:11},l.a.createElement(E.a,{container:!0,style:{margin:"20px 40px"}},l.a.createElement($.a,{avatar:l.a.createElement(G.a,null,"true"===u?l.a.createElement(mt.a,null):l.a.createElement(Ne.a,null)),label:"Stan indywidualny",clickable:!0,color:"primary",onClick:B("personal"),style:{opacity:"".concat("true"===u?1:.6),margin:"10px"}}),l.a.createElement($.a,{avatar:l.a.createElement(G.a,null,"true"===m?l.a.createElement(mt.a,null):l.a.createElement(Ne.a,null)),label:"Stan firmowy miesi\u0119czny",clickable:!0,color:"primary",onClick:B("company-monthly"),style:{opacity:"".concat("true"===m?1:.6),margin:"10px"}}),l.a.createElement($.a,{avatar:l.a.createElement(G.a,null,"true"===s?l.a.createElement(mt.a,null):l.a.createElement(Ne.a,null)),label:"Stan firmowy og\xf3lny",clickable:!0,color:"primary",onClick:B("company-general"),style:{opacity:"".concat("true"===s?1:.6),margin:"10px"}})),l.a.createElement(E.a,{container:!0,item:!0,direction:"column",lg:"true"===s?5:10,style:{height:"fit-content"}},"true"===m?l.a.createElement(pt,{currentTimestamp:g,data:j}):null,"true"===u?l.a.createElement(He,{currentTimestamp:g,data:C}):null),"true"===s?l.a.createElement(Ke,{dataForUnactiveClients:z}):null),l.a.createElement(ut,null),l.a.createElement(Qe.a,{open:r,autoHideDuration:6e3,onClose:I,anchorOrigin:{vertical:"bottom",horizontal:"left"}},l.a.createElement(bt,{onClose:I,severity:"success"},"Pomy\u015blnie dodano zlecenie!")),l.a.createElement(Qe.a,{open:a,autoHideDuration:6e3,onClose:I,anchorOrigin:{vertical:"bottom",horizontal:"left"}},l.a.createElement(bt,{onClose:I,severity:"success"},"Pomy\u015blnie usuni\u0119to zlecenie!")))},ft=function(){return l.a.createElement(I,null,l.a.createElement(B,null,l.a.createElement(A,null,l.a.createElement(pe,null,l.a.createElement(i.a,{basename:"/"},l.a.createElement(R,null),l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0,component:T}),l.a.createElement(o.b,{path:"/dashboard",component:dt})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[135,1,2]]]);
//# sourceMappingURL=main.02d4d651.chunk.js.map