(this["webpackJsonpsales-panel"]=this["webpackJsonpsales-panel"]||[]).push([[0],{137:function(e,t,a){e.exports=a(153)},142:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),i=a.n(r),c=(a(142),a(56)),o=a(16),s=a(87),u=a.n(s);a(145),a(146);u.a.initializeApp({apiKey:"AIzaSyBE_yMVi09qe0Nksxx3B-Cok-1XQhknp3M",authDomain:"salespanel-1bd4a.firebaseapp.com",databaseURL:"https://salespanel-1bd4a.firebaseio.com",projectId:"salespanel-1bd4a",storageBucket:"salespanel-1bd4a.appspot.com",messagingSenderId:"717768548602",appId:"1:717768548602:web:f6e09b7db3f0c09c682943"});var m=u.a,p=a(50),f=a(21),b=a(6),d=a(154),g=a(59),E=a(186),y=a(187),h=a(188),O=a(214),j=a(215),x=a(189),S=a(156),v=a(190),C=a(208),w=a(103),k=a.n(w),D=a(104),M=a.n(D),Y=Object(o.g)((function(e){var t=Object(n.useState)({password:"",login:"",showPassowrd:!1}),a=Object(b.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(!1),o=Object(b.a)(c,2),s=o[0],u=o[1],w=Object(n.useState)(null),D=Object(b.a)(w,2),Y=D[0],T=D[1],V=function(e){return function(t){i(Object(f.a)(Object(f.a)({},r),{},Object(p.a)({},e,t.target.value)))}};return l.a.createElement(d.a,{style:{width:"400px",height:"320px",margin:"60px auto 0",padding:"40px"}},l.a.createElement(g.a,{variant:"h6",gutterBottom:!0,style:{textAlign:"center"}},"Logowanie"),l.a.createElement(E.a,{container:!0,justify:"center",alignItems:"center"},s?l.a.createElement(y.a,null):l.a.createElement("form",{onSubmit:function(){console.log(r)}},l.a.createElement(E.a,{container:!0,spacing:2,direction:"column"},l.a.createElement(E.a,{item:!0,style:{display:"flex",justifyContent:"center"}},l.a.createElement(h.a,{variant:"outlined"},l.a.createElement(O.a,{htmlFor:"outlined"},"Login"),l.a.createElement(j.a,{id:"outlined",label:"Login",variant:"outlined",value:r.login,onChange:V("login"),style:{margin:"0 auto",width:"240px"}}))),l.a.createElement(E.a,{item:!0,style:{display:"flex",justifyContent:"center"}},l.a.createElement(h.a,{variant:"outlined"},l.a.createElement(O.a,{htmlFor:"outlined-adornment-password"},"Has\u0142o"),l.a.createElement(j.a,{id:"outlined-adornment-password",type:r.showPassword?"text":"password",onChange:V("password"),value:r.password,endAdornment:l.a.createElement(x.a,{position:"end"},l.a.createElement(S.a,{"aria-label":"toggle password visibility",onClick:function(){i(Object(f.a)(Object(f.a)({},r),{},{showPassword:!r.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end"},r.showPassword?l.a.createElement(k.a,null):l.a.createElement(M.a,null))),labelWidth:70}))),l.a.createElement(v.a,{variant:"contained",color:"primary",style:{width:"150px",margin:"20px auto 0"},onClick:function(){u(!0),m.auth().signInWithEmailAndPassword(r.login,r.password).then((function(e){u(!1)})).catch((function(e){u(!1),i(Object(f.a)(Object(f.a)({},r),{},{password:"",login:""})),"The password is invalid or the user does not have a password."===e.message&&(T("Podane has\u0142o jest nieprawid\u0142owe."),u(!1)),"There is no user record corresponding to this identifier. The user may have been deleted."===e.message&&(T("Brak u\u017cytkownika o podanym mailu w bazie danych."),u(!1),i(Object(f.a)(Object(f.a)({},r),{},{password:"",login:""})))})),i(Object(f.a)(Object(f.a)({},r),{},{password:"",login:""}))}},"Zaloguj si\u0119"),Y?l.a.createElement(C.a,{severity:"error"},Y):null))))})),T=Object(n.createContext)(),V=function(e){var t=Object(n.useState)(),a=Object(b.a)(t,2),r=a[0],i=a[1];return l.a.createElement(T.Provider,{value:{companyState:r,setCompanyState:i}},e.children)},U=Object(n.createContext)(),z=function(e){var t=Object(n.useState)(),a=Object(b.a)(t,2),r=a[0],i=a[1];return l.a.createElement(U.Provider,{value:{users:r,setUsers:i}},e.children)},F=Object(n.createContext)(),I=function(e){var t=Object(n.useState)(),a=Object(b.a)(t,2),r=a[0],i=a[1];return l.a.createElement(F.Provider,{value:{personalData:r,setPersonalData:i}},e.children)},A=Object(o.g)((function(e){var t=Object(n.useContext)(F).setPersonalData,a=Object(n.useContext)(U),r=a.users,i=a.setUsers,c=Object(n.useContext)(T).setCompanyState;return Object(n.useEffect)((function(){r&&e.history.push("/dashboard")})),Object(n.useEffect)((function(){var e=document.querySelector(".loginRef"),a=document.querySelector(".loader");m.auth().onAuthStateChanged((function(n){n?(m.firestore().collection("users").onSnapshot((function(e){i(e.docs.map((function(e){return e.data()})))})),m.firestore().collection("personal-data").doc("".concat(n.uid)).onSnapshot((function(e){return t(e.data())})),m.firestore().collection("company-state-general").onSnapshot((function(e){c(e.docs.map((function(e){return e.data()})))})),e.style.display="none"):(e.style.display="block",a.style.display="none",t(n),i(n))}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{container:!0,justify:"center",alignItems:"center",style:{marginTop:"40px"}},l.a.createElement(E.a,{item:!0},l.a.createElement(y.a,{className:"loader",style:{width:"80px",height:"80px"}})),l.a.createElement(E.a,{className:"loginRef",item:!0,style:{display:"none"}},l.a.createElement(Y,null))))})),P=a(19),B=a(20);function L(){var e=Object(P.a)(["\n  font-family: 'Squada One', cursive;\n  color: #099be2;\n  span {\n    color: #086d9e;\n    font-family: 'Squada One', cursive;\n  }\n"]);return L=function(){return e},e}var Z=B.a.h1(L()),N=a(216);function G(){var e=Object(P.a)(["\n  background-color: #9afff9;\n"]);return G=function(){return e},e}var K=B.a.header(G()),W=Object(o.g)((function(e){var t,a=Object(n.useContext)(F).personalData,r=Object(n.useContext)(U).users;return l.a.createElement(K,null,l.a.createElement(E.a,{container:!0,style:{padding:"20px"},justify:"space-between"},l.a.createElement(E.a,{item:!0,style:{display:"flex",alignItems:"center"}},l.a.createElement(Z,null,l.a.createElement("span",null,"Sales")," Panel")),l.a.createElement(E.a,{item:!0},l.a.createElement(E.a,{container:!0,spacing:2},l.a.createElement(E.a,{item:!0},a?l.a.createElement(N.a,{style:{color:"black",backgroundColor:"".concat((t=a.initials,a?"AK"===t?r.filter((function(e){return"Q"===e.initials}))[0].color:r.filter((function(e){return e.initials===t}))[0].color:void 0)),width:"60px",height:"60px"},src:r.filter((function(e){return e.initials===a.initials})).length>0?r.filter((function(e){return e.initials===a.initials}))[0].img:null},r.filter((function(e){return e.initials===a.initials})).length>0?null:a.initials):a),l.a.createElement(E.a,{item:!0,style:{display:"flex",alignItems:"center"}},a?l.a.createElement(g.a,{variant:"h6"},a.name):a),l.a.createElement(E.a,{item:!0,style:{display:"flex",alignItems:"center"}},a?l.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(t){t.preventDefault(),e.history.push("/"),m.auth().signOut()}},"Wyloguj"):a)))))})),H=a(13),R=a.n(H),q=(a(70),a(158)),J=a(199),Q=a(200),X=a(206),$=a(201),_=a(217),ee=a(202),te=a(192),ae=a(197),ne=a(108),le=a.n(ne),re=a(109),ie=a.n(re),ce=a(66),oe=a.n(ce),se=a(65),ue=a.n(se),me=Object(n.createContext)(),pe=function(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(!1),o=Object(b.a)(c,2),s=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(b.a)(m,2),g=d[0],E=d[1],y=Object(n.useState)("true"),h=Object(b.a)(y,2),O=h[0],j=h[1],x=Object(n.useState)("true"),S=Object(b.a)(x,2),v=S[0],C=S[1],w=Object(n.useState)("true"),k=Object(b.a)(w,2),D=k[0],M=k[1],Y=Object(n.useState)({KK:"false",EH:"false",VF:"false"}),T=Object(b.a)(Y,2),V=T[0],U=T[1];Object(n.useEffect)((function(){localStorage.getItem("usersStateVisible")?U(JSON.parse(localStorage.getItem("usersStateVisible"))):localStorage.setItem("usersStateVisible",JSON.stringify(V))}),[]);Object(n.useEffect)((function(){localStorage.getItem("personalStateVisible")?j(localStorage.getItem("personalStateVisible")):localStorage.setItem("personalStateVisible","".concat(O))}),[]);Object(n.useEffect)((function(){localStorage.getItem("companyGeneralStateVisible")?C(localStorage.getItem("companyGeneralStateVisible")):localStorage.setItem("companyGeneralStateVisible","".concat(v))}),[]);Object(n.useEffect)((function(){localStorage.getItem("companyMonthlyStateVisible")?M(localStorage.getItem("companyMonthlyStateVisible")):localStorage.setItem("companyMonthlyStateVisible","".concat(D))}),[]);return l.a.createElement(me.Provider,{value:{successSnackbarOpen:s,setSuccessSnackbarOpen:u,failSnackbarOpen:g,setFailSnackbarOpen:E,personalStateVisible:O,changePersonalStateVisible:function(e){j(e),localStorage.setItem("personalStateVisible",e)},companyGeneralStateVisible:v,changeCompanyGeneralStateVisible:function(e){C(e),localStorage.setItem("companyGeneralStateVisible",e)},successDeleteSnackbarOpen:r,setSuccessDeleteSnackbarOpen:i,companyMonthlyStateVisible:D,changeCompanyMonthlyStateVisible:function(e){M(e),localStorage.setItem("companyMonthlyStateVisible",e)},usersStateVisible:V,changeUsersStateVisible:function(e,t){console.log(Object(f.a)(Object(f.a)({},V),{},Object(p.a)({},t,e))),U(Object(f.a)(Object(f.a)({},V),{},Object(p.a)({},t,e))),localStorage.setItem("usersStateVisible",JSON.stringify(Object(f.a)(Object(f.a)({},V),{},Object(p.a)({},t,e))))}}},e.children)},fe=a(212);function be(){var e=Object(P.a)(["\n  &.MuiButton-contained {\n    background-color: #ff0000 !important;\n    color: white;\n  }\n"]);return be=function(){return e},e}function de(){var e=Object(P.a)(["\n  &.MuiButton-outlined {\n    border-color: #616161 !important;\n    color: white;\n  }\n"]);return de=function(){return e},e}function ge(){var e=Object(P.a)(["\n  & .MuiPaper-root {\n    background-color: #383838;\n  }\n"]);return ge=function(){return e},e}var Ee=Object(B.a)(fe.a)(ge()),ye=Object(B.a)(v.a)(de()),he=Object(B.a)(v.a)(be()),Oe=function(e){var t=e.deleteConfirmationDialogVisible,a=e.setDeleteConfirmationDialogVisible,n=e.handleDeleteData,r=e.itemToDelete,i=function(){a(!1)};return l.a.createElement(Ee,{onClose:i,"aria-labelledby":"simple-dialog-title",open:t},l.a.createElement(E.a,{item:!0,style:{backgroundColor:"#383838",color:"white",padding:"30px"}},l.a.createElement(g.a,{variant:"h5",gutterBottom:!0},"Czy na pewno chcesz usun\u0105\u0107 wybrane zlecenie?"),l.a.createElement(g.a,null,"Tej czynno\u015b\u0107 nie b\u0119dzie mo\u017cna cofn\u0105\u0107."),l.a.createElement(E.a,{container:!0,justify:"space-between",style:{marginTop:"40px"}},l.a.createElement(ye,{variant:"outlined",onClick:i},"Anuluj"),l.a.createElement(he,{variant:"contained",onClick:n(r)},"Usu\u0144"))))},je=a(79),xe=a(210),Se=a(193),ve=a(209),Ce=a(211),we=a(207),ke=a(198),De=a(218),Me=a(24),Ye=a(204);function Te(){var e=Object(P.a)(["\n  background-color: #5f5f5f !important;\n  width: 100%;\n"]);return Te=function(){return e},e}function Ve(){var e=Object(P.a)(["\n  width: 100%;\n  color: red !important;\n  text-align: center;\n"]);return Ve=function(){return e},e}function Ue(){var e=Object(P.a)(["\n  span {\n    color: black !important;\n  }\n"]);return Ue=function(){return e},e}function ze(){var e=Object(P.a)(["\n  & * {\n    color: white !important;\n  }\n"]);return ze=function(){return e},e}var Fe=B.a.form(ze()),Ie=Object(B.a)(_.a)(Ue()),Ae=Object(B.a)(g.a)(Ve()),Pe=Object(B.a)(te.a)(Te()),Be=function(e){var t=Object(n.useState)(""),a=Object(b.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(!1),o=Object(b.a)(c,2),s=o[0],u=o[1],p=Object(n.useState)(""),f=Object(b.a)(p,2),y=f[0],x=f[1],S=Object(n.useState)(""),C=Object(b.a)(S,2),w=C[0],k=C[1],D=Object(n.useState)(""),M=Object(b.a)(D,2),Y=M[0],T=M[1],V=Object(n.useState)(!1),z=Object(b.a)(V,2),I=z[0],A=z[1],P=Object(n.useState)(""),B=Object(b.a)(P,2),L=B[0],Z=B[1],N=Object(n.useState)(R()(new Date)),G=Object(b.a)(N,2),K=G[0],W=G[1],H=Object(n.useState)(!1),q=Object(b.a)(H,2),J=q[0],Q=q[1],X=Object(n.useState)(!1),$=Object(b.a)(X,2),_=$[0],ee=$[1],te=Object(n.useState)(!1),ae=Object(b.a)(te,2),ne=ae[0],le=ae[1],re=Object(n.useState)(),ie=Object(b.a)(re,2),ce=ie[0],oe=ie[1],se=Object(n.useState)(),ue=Object(b.a)(se,2),pe=ue[0],fe=ue[1],be=e.admin,de=e.handleClose,ge=e.dataToEdit,Ee=e.setEditDialogVisible,ye=Object(n.useContext)(F).personalData,he=Object(n.useContext)(me).setSuccessSnackbarOpen,Oe=Object(n.useContext)(U).users;Object(n.useEffect)((function(){ge&&(i(ge.title),T(ge.user),Z(ge.nextUser),A(ge.temporaryCommision),ge.timestamp?u(!1):(u(!0),W(R()(new Date)),A(I),Z(L)),"string"===typeof ge.plus?""===ge.plus?k("Brak"):k(ge.plus):""===ge.minus?x("Brak"):x(ge.minus),ge.dluMinusStart&&x("DLU"))}),[ge,I,L]),Object(n.useEffect)((function(){Oe&&oe(Oe.map((function(e){return l.a.createElement(Se.a,{key:e.img,value:e.initials,control:l.a.createElement(ve.a,null),label:l.a.createElement(Ie,{label:e.initials,style:{backgroundColor:"".concat(e.color)}}),labelPlacement:"top"})})))}),[oe,Oe]),Object(n.useEffect)((function(){Y&&fe(Oe.filter((function(e){return e.initials!==Y})).map((function(e){return l.a.createElement(Se.a,{key:e.img,value:e.initials,control:l.a.createElement(ve.a,null),label:l.a.createElement(Ie,{label:e.initials,style:{backgroundColor:"".concat(e.color)}}),labelPlacement:"top"})})))}),[fe,Oe,Y]);var Te=function(e){return function(t){_&&ee(!1),e?(k(t.target.value),x("")):(x(t.target.value),k(""))}},Ve=function(e){return s?ne?R()(e).format("MMMM YYYY"):"":R()(e).format("MMMM YYYY")},Ue=function(e){return"Brak"===e?"":""===e?null:e},ze=function(e,t){return e?new Date(new Date(t).getTime()+12096e5).getTime():null},Be=function(){if(console.log(R()(K).isBefore(new Date,"month")),!r&&!y&&!w)return Q(!0),void ee(!0);if(r)if(y||w){if(!J&&!_){var e="".concat(ge?ge.id:Object(xe.a)());ge&&"DLU"===y?ge.timestamp!==Ve(K)?m.firestore().collection("company-state-general").doc(e).set({title:r,date:ge.date,minus:ge.minus,plus:ge.plus,user:"".concat(be?Y:ye.initials),temporaryCommision:I,firstUser:"".concat(be?Y:ye.initials),nextUser:L,commisionStartDate:ge.commisionStartDate,commisionChangeDate:ze(I,K),rawDate:"".concat(K),timestamp:ge.timestamp,id:e,dluMinusStart:new Date(K).getTime()}).then((function(){return he(!0)})).catch((function(e){return console.log(e)})):m.firestore().collection("company-state-general").doc(e).set({title:r,date:"".concat(s?"":R()(K).format("L")),minus:Ue(y),plus:Ue(w),user:"".concat(be?Y:ye.initials),oldCommision:s,temporaryCommision:I,firstUser:"".concat(be?Y:ye.initials),nextUser:L,commisionStartDate:new Date(K).getTime(),commisionChangeDate:ze(I,K),rawDate:"".concat(K),timestamp:Ve(K),id:e}).then((function(){return he(!0)})).catch((function(e){return console.log(e)})):m.firestore().collection("company-state-general").doc(e).set({title:r,date:R()(K).format("L"),minus:Ue(y),plus:Ue(w),user:"".concat(be?Y:ye.initials),temporaryCommision:I,firstUser:"".concat(be?Y:ye.initials),nextUser:L,commisionStartDate:new Date(K).getTime(),commisionChangeDate:ze(I,K),rawDate:"".concat(K),timestamp:Ve(K),id:e}).then((function(){return he(!0)})).catch((function(e){return console.log(e)})),ge?Ee(!1):de()}}else ee(!0);else Q(!0)};return l.a.createElement(d.a,{style:{width:"500px",padding:"50px",backgroundColor:"#383838",color:"#fff"},elevation:3},l.a.createElement(g.a,{variant:"h6",gutterBottom:!0,style:{textAlign:"center"}},"Zarz\u0105dzanie klientami"),l.a.createElement(Pe,null),l.a.createElement(Fe,{style:{marginTop:"20px"}},l.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3},l.a.createElement(E.a,{item:!0},l.a.createElement(h.a,{variant:"outlined"},l.a.createElement(O.a,{htmlFor:"name",style:{color:"#fff"}},"Nazwa zlecenia"),l.a.createElement(j.a,{error:J,id:"name",label:"Nazwa zlecenia",variant:"outlined",style:{width:"240px"},required:!0,value:r,onChange:function(e){J&&Q(!1),i(e.target.value)}})),J?l.a.createElement(Ae,{variant:"caption",display:"block",gutterBottom:!0},"To pole nie mo\u017ce by\u0107 puste"):null),l.a.createElement(E.a,{item:!0},l.a.createElement(Me.a,{utils:je.a},l.a.createElement(Ye.a,{disableToolbar:!0,variant:"inline",format:"L",margin:"normal",id:"date-picker-inline",label:"Start zlecenia",value:K,onChange:function(e){W(e)},style:{margin:"10px 0 20px"},KeyboardButtonProps:{"aria-label":"change date"}}))),be?l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,null),l.a.createElement(Se.a,{style:{margin:"20px 0"},control:l.a.createElement(Ce.a,{checked:s,onChange:function(e){u(e.target.checked)},name:"oldCommision",color:"primary"}),label:"Zlecenie istniej\u0105ce"})):null,l.a.createElement(Pe,null),l.a.createElement(E.a,{container:!0,justify:"center"},l.a.createElement(E.a,{item:!0,style:{textAlign:"center",margin:"20px 20px 20px 0"}},l.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0,style:{textAlign:"center"}},"Zlecenie pozyskane"),l.a.createElement(h.a,{variant:"outlined",style:{width:"100px"}},l.a.createElement(O.a,{id:"plus-reason"},l.a.createElement("em",null,"Pow\xf3d")),l.a.createElement(we.a,{error:_,labelId:"plus-reason",id:"plus",value:w,onChange:Te("plus"),label:"Pow\xf3d"},l.a.createElement(ke.a,{value:"Brak"},"Brak"),l.a.createElement(ke.a,{value:"NZ"},"NZ"),l.a.createElement(ke.a,{value:"DLU"},"DLU")))),l.a.createElement(E.a,{item:!0,style:{textAlign:"center",margin:"20px 0 20px 20px"}},l.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0,style:{textAlign:"center"}},"Zlecenie utracone"),l.a.createElement(h.a,{variant:"outlined",style:{width:"100px"}},l.a.createElement(O.a,{id:"minus-reason"},l.a.createElement("em",null,"Pow\xf3d")),l.a.createElement(we.a,{error:_,labelId:"minus-reason",id:"minus",value:y,onChange:Te(""),label:"MinusReason"},l.a.createElement(ke.a,{value:"Brak"},"Brak"),l.a.createElement(ke.a,{value:"K"},"K"),l.a.createElement(ke.a,{value:"TOD"},"TOD"),l.a.createElement(ke.a,{value:"DLU"},"DLU")))),_?l.a.createElement(E.a,{container:!0},l.a.createElement(Ae,{variant:"caption",style:{margin:"-15px 0 20px"}},"Wybierz rodzaj zlecenia")):null),l.a.createElement(Pe,null),be?l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{component:"fieldset",style:{margin:"20px 0"}},l.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0,style:{textAlign:"center"}},"Pozyskane przez"),l.a.createElement(De.a,{"aria-label":"user",name:"user1",value:Y,onChange:function(e){T(e.target.value)},style:{flexDirection:"row"}},ce)),Y?l.a.createElement(Se.a,{style:{margin:"-10px 0 20px"},control:l.a.createElement(Ce.a,{checked:I,onChange:function(e){A(e.target.checked)},name:"temporaryCommision",color:"primary"}),label:"Po 14 dniach:"}):null,I?l.a.createElement(De.a,{"aria-label":"nextUser",name:"user2",value:L,onChange:function(e){Z(e.target.value)},style:{flexDirection:"row",margin:"0px 0 20px"}},pe):null,l.a.createElement(Pe,null)):null,ge?l.a.createElement(l.a.Fragment,null,ge.timestamp!==R()(new Date).format("MMMM YYYY")?l.a.createElement(Se.a,{style:{margin:"20px 0"},control:l.a.createElement(Ce.a,{checked:ne,onChange:function(e){le(e.target.checked)},name:"currentMonth",color:"primary"}),label:"Doda\u0107 do bie\u017c\u0105cego miesi\u0105ca?"}):null):null,ge?l.a.createElement(E.a,{container:!0,justify:"space-between"},l.a.createElement(v.a,{style:{margin:"20px 0"},variant:"outlined",color:"primary",onClick:function(){return Ee(!1)}},"Anuluj"),l.a.createElement(v.a,{style:{margin:"20px 0"},variant:"contained",color:"primary",onClick:Be},"Zapisz")):l.a.createElement(v.a,{style:{margin:"20px 0"},variant:"contained",color:"primary",onClick:Be},"Zatwierd\u017a"))))};function Le(){var e=Object(P.a)(["\n  & .MuiPaper-root {\n    background-color: #383838;\n  }\n"]);return Le=function(){return e},e}var Ze=Object(B.a)(fe.a)(Le()),Ne=function(e){var t=e.editDialogVisible,a=e.dataToEdit,n=e.setEditDialogVisible;return l.a.createElement(Ze,{open:t,onClose:function(){return n(!1)}},l.a.createElement(Be,{admin:"admin",dataToEdit:a,setEditDialogVisible:n}))},Ge=a(55),Ke=a.n(Ge),We=function(e){var t=e.checkSize,a=e.companyState,r=e.company,i=e.dataForUnactiveClients,c=e.users,o=e.findChipColor,s=e.admin,u=e.handleOpenEditDialog,m=e.handleOpenDeleteDialog,p=Object(n.useState)(),f=Object(b.a)(p,2),y=f[0],h=f[1];return Object(n.useEffect)((function(){if(i){var e=i.sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0})).map((function(e,t){return l.a.createElement(q.a,{key:t},l.a.createElement(J.a,null,l.a.createElement(N.a,null,l.a.createElement(Ke.a,null))),l.a.createElement(Q.a,{primary:e.title,secondary:e.date,style:{flex:"none",width:"28%",marginRight:"10px",overflow:"hidden"}}),l.a.createElement(X.a,{component:"span",style:{width:"13%",textAlign:"center"}},l.a.createElement(_.a,{label:e.minus,style:{backgroundColor:"#ff9292"}})),l.a.createElement(X.a,{component:"span",style:{width:"14%",textAlign:"center"}},e.user?l.a.createElement(l.a.Fragment,null,c.filter((function(t){return t.initials===e.user}))[0].img?l.a.createElement($.a,{badgeContent:e.user,color:"primary"},l.a.createElement(N.a,{style:{margin:"0 auto"},src:c.filter((function(t){return t.initials===e.user}))[0].img})):l.a.createElement(_.a,{label:e.user,style:{backgroundColor:"".concat(o(e.user))}})):null),l.a.createElement(X.a,{component:"span",style:{width:"14%",textAlign:"center"}},e.timestamp?null:l.a.createElement(_.a,{label:"OLD",style:{backgroundColor:"#252c61",color:"white"}})),s?l.a.createElement(ee.a,null,l.a.createElement(S.a,{edge:"end","aria-label":"create",onClick:u(e)},l.a.createElement(ue.a,null)),l.a.createElement(S.a,{edge:"end","aria-label":"delete",onClick:m(e)},l.a.createElement(oe.a,null))):null)}));h(e)}}),[i]),l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{item:!0,xs:11,lg:t(),xl:a?5:11,style:{margin:"10px 5px"}},l.a.createElement(d.a,{elevation:3,style:{padding:"20px 0",backgroundColor:"#a9a9a9"}},l.a.createElement(g.a,{variant:"h6",style:{padding:"10px 20px"}},"Niefakturowani klienci",y?l.a.createElement(_.a,{label:y.length,style:{marginLeft:"10px"}}):null),l.a.createElement(te.a,{light:!0}),l.a.createElement(ae.a,{style:{maxHeight:"".concat(r?"575px":"260px"),overflowY:"auto"}},y))))},He=function(e){var t=Object(n.useContext)(F).personalData,a=Object(n.useContext)(U).users,r=Object(n.useContext)(me),i=r.personalStateVisible,c=r.companyMonthlyStateVisible,s=r.companyGeneralStateVisible,u=r.setSuccessDeleteSnackbarOpen,p=Object(n.useState)(!1),f=Object(b.a)(p,2),y=f[0],h=f[1],O=Object(n.useState)(78),j=Object(b.a)(O,1)[0],x=Object(n.useState)(!1),v=Object(b.a)(x,2),C=v[0],w=v[1],k=Object(n.useState)(),D=Object(b.a)(k,2),M=D[0],Y=D[1],T=Object(n.useState)(null),V=Object(b.a)(T,2),z=V[0],I=V[1],A=Object(n.useState)(null),P=Object(b.a)(A,2),B=(P[0],P[1]),L=Object(n.useState)(),Z=Object(b.a)(L,2),G=Z[0],K=Z[1],W=Object(n.useState)(),H=Object(b.a)(W,2),R=H[0],ne=H[1],re=Object(n.useState)(),ce=Object(b.a)(re,2),se=ce[0],pe=ce[1],fe=Object(n.useState)(),be=Object(b.a)(fe,2),de=be[0],ge=be[1],Ee=Object(n.useState)(!1),ye=Object(b.a)(Ee,2),he=ye[0],je=ye[1],xe=Object(n.useState)(),Se=Object(b.a)(xe,2),ve=Se[0],Ce=Se[1],we=e.data,ke=e.admin,De=e.title,Me=e.company,Ye=e.subtitle,Te=e.dataForUnactiveClients,Ve=e.currentTimestamp,Ue=function(e){return function(t){w(!0),Y(e)}},ze=function(e){return function(t){h(!0),Ce(e)}},Fe=function(e){return t?a.filter((function(t){return t.initials===e}))[0].color:void 0},Ie=function(){return he?"true"===i||"true"===c?11:5:"true"===s?11:5},Ae=function(e,t){var a=(e.commisionChangeDate-(new Date).getTime())/1e3/60/60/24;return e.temporaryCommision&&e.commisionStartDate<=(new Date).getTime()?e.commisionChangeDate-(new Date).getTime()<=0?t?null:"".concat(e.nextUser," 0"):"".concat(e.nextUser," ").concat(a.toFixed()):"".concat(e.nextUser)},Pe=function(e,t){return t?e.commisionChangeDate<=(new Date).getTime()?e.nextUser:e.firstUser:e.user},Be=function(e,t,a){return t?e.commisionChangeDate<=(new Date).getTime()?a.filter((function(t){return t.initials===e.nextUser}))[0].img:a.filter((function(t){return t.initials===e.firstUser}))[0].img:a.filter((function(t){return t.initials===e.user}))[0].img},Le=function(e){return e.dluMinusStart?"DLU":null};Object(n.useEffect)((function(){Me&&je(!0)}),[Me]),Object(n.useEffect)((function(){we&&(ne(we.filter((function(e){return""===e.plus||e.plus?e:null})).sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0}))),K(we.filter((function(e){return""===e.minus||e.minus?e:null})).sort((function(e,t){return e.title<t.title?-1:e.title>t.title?1:0}))))}),[we,Ve]),Object(n.useEffect)((function(){if(R&&G){var e=R.length-G.length;I(e>0?"+".concat(e):"".concat(e))}}),[R,G]),Object(n.useEffect)((function(){if(R){var e=R.map((function(e,t){return l.a.createElement(q.a,{key:t},l.a.createElement(J.a,null,l.a.createElement(N.a,null,l.a.createElement(le.a,null))),l.a.createElement(Q.a,{primary:e.title,secondary:e.date,style:{flex:"none",width:"28%",marginRight:"10px",overflow:"hidden"}}),l.a.createElement(X.a,{component:"span",style:{width:"13%",textAlign:"center"}},e.plus?l.a.createElement($.a,{badgeContent:Le(e),color:"secondary"},l.a.createElement(_.a,{label:e.plus,style:{backgroundColor:"#a2ef9d"}})):null),l.a.createElement(X.a,{component:"span",style:{width:"14%",textAlign:"center"}},e.user?l.a.createElement(l.a.Fragment,null,a.filter((function(t){return t.initials===e.user}))[0].img?l.a.createElement(l.a.Fragment,null,e.temporaryCommision?l.a.createElement($.a,{badgeContent:Ae(e,Me),color:"secondary",anchorOrigin:{vertical:"top",horizontal:"left"}},l.a.createElement($.a,{badgeContent:Pe(e,Me),color:"primary"},l.a.createElement(N.a,{style:{margin:"0 auto"},src:Be(e,Me,a)}))):l.a.createElement($.a,{badgeContent:e.user,color:"primary"},l.a.createElement(N.a,{style:{margin:"0 auto"},src:a.filter((function(t){return t.initials===e.user}))[0].img}))):l.a.createElement(_.a,{label:e.user,style:{backgroundColor:"".concat(Fe(e.user))}})):null),l.a.createElement(X.a,{component:"span",style:{width:"14%",textAlign:"center"}},e.timestamp?null:l.a.createElement(_.a,{label:"OLD",style:{backgroundColor:"#252c61",color:"white"}})),Me?l.a.createElement(l.a.Fragment,null,ke?l.a.createElement(ee.a,null,l.a.createElement(S.a,{edge:"end","aria-label":"create",onClick:Ue(e)},l.a.createElement(ue.a,null)),l.a.createElement(S.a,{edge:"end","aria-label":"delete",onClick:ze(e)},l.a.createElement(oe.a,null))):null):null)}));pe(e)}}),[pe,R]),Object(n.useEffect)((function(){if(G){var e=G.map((function(e,t){return l.a.createElement(q.a,{key:t},l.a.createElement(J.a,null,l.a.createElement(N.a,null,l.a.createElement(ie.a,null))),l.a.createElement(Q.a,{primary:e.title,secondary:e.date,style:{flex:"none",width:"28%",marginRight:"10px",overflow:"hidden"}}),l.a.createElement(X.a,{component:"span",style:{width:"18%",textAlign:"center"}},e.minus?l.a.createElement(_.a,{label:e.minus,style:{backgroundColor:"#ff9292"}}):null),l.a.createElement(X.a,{component:"span",style:{width:"12%",textAlign:"center"}},e.user?l.a.createElement(l.a.Fragment,null,a.filter((function(t){return t.initials===e.user}))[0].img?l.a.createElement($.a,{badgeContent:e.user,color:"primary"},l.a.createElement(N.a,{style:{margin:"0 auto"},src:a.filter((function(t){return t.initials===e.user}))[0].img})):l.a.createElement(_.a,{label:e.user,style:{backgroundColor:"".concat(Fe(e.user))}})):null),l.a.createElement(X.a,{component:"span",style:{width:"18%",textAlign:"center"}},e.timestamp?null:l.a.createElement(_.a,{label:"OLD",style:{backgroundColor:"#252c61",color:"white"}})),l.a.createElement(l.a.Fragment,null,ke?l.a.createElement(ee.a,null,l.a.createElement(S.a,{edge:"end","aria-label":"create",onClick:Ue(e)},l.a.createElement(ue.a,null)),l.a.createElement(S.a,{edge:"end","aria-label":"delete",onClick:ze(e)},l.a.createElement(oe.a,null))):null))}));ge(e)}}),[ge,G]),Object(n.useEffect)((function(){R&&B(R.length/j*100)}),[R,j]);return l.a.createElement(l.a.Fragment,null,a?l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{container:!0,item:!0,xl:5,style:{maxWidth:"1400px",margin:"0 auto"}},l.a.createElement(E.a,{container:!0,justify:"center",direction:"column"},l.a.createElement(g.a,{variant:"".concat(he?"h4":"h5"),style:{position:"relative",textAlign:"center",margin:"0 auto",marginTop:"20px",color:"white",fontWeight:"bold"}},De,he?null:l.a.createElement(l.a.Fragment,null,z?l.a.createElement(_.a,{style:{position:"absolute",left:"105%",padding:"0 5px",backgroundColor:"".concat(z>=0?"#d5ffde":"#ffcbcb")},label:z}):null)),l.a.createElement(g.a,{variant:"subtitle1",style:{textAlign:"center",margin:"0 auto",marginTop:"20px",color:"white"}},Ye)),l.a.createElement(E.a,{container:!0,justify:"center",style:{margin:"20px auto"}},l.a.createElement(E.a,{item:!0,xs:11,lg:Ie(),xl:he?6:11,style:{margin:"10px 5px"}},l.a.createElement(d.a,{elevation:3,style:{padding:"20px 0",backgroundColor:"".concat(Me?"#d5f5ff":"#d5ffde")}},l.a.createElement(g.a,{variant:"h6",style:{padding:"10px 20px"}},Me?"Obs\u0142ugiwani klienci":"Zlecenia pozyskane",R?l.a.createElement(_.a,{label:R.length,style:{marginLeft:"10px"}}):null),l.a.createElement(te.a,{light:!0}),l.a.createElement(ae.a,{style:{maxHeight:"".concat(Me?"575px":"260px"),overflowY:"auto"}},se))),Me?l.a.createElement(We,{checkSize:Ie,companyState:he,company:Me,dataForUnactiveClients:Te,users:a,findChipColor:Fe,admin:ke,handleOpenDeleteDialog:ze,handleOpenEditDialog:Ue}):l.a.createElement(E.a,{item:!0,xs:11,lg:Ie(),xl:he?5:11,style:{margin:"10px 5px"}},l.a.createElement(d.a,{elevation:3,style:{padding:"20px 0",backgroundColor:"#ffcbcb"}},l.a.createElement(g.a,{variant:"h6",style:{padding:"10px 20px"}},"Zlecenia utracone",G?l.a.createElement(_.a,{label:G.length,style:{marginLeft:"10px"}}):null),l.a.createElement(te.a,{light:!0}),l.a.createElement(ae.a,{style:{maxHeight:"".concat(Me?"575px":"260px"),overflowY:"auto"}},de))))),l.a.createElement(Oe,{deleteConfirmationDialogVisible:y,setDeleteConfirmationDialogVisible:h,handleDeleteData:function(e){return function(t){e.timestamp&&m.firestore().collection("personal-state-".concat(a.filter((function(t){return t.initials===e.user}))[0].uid)).doc(e.id).delete().then((function(){h(!1),u(!0)})),m.firestore().collection("company-state-general").doc(e.id).delete().then((function(){h(!1),u(!0)}))}},itemToDelete:ve}),l.a.createElement(Ne,{editDialogVisible:C,dataToEdit:M,setEditDialogVisible:w})):l.a.createElement(o.a,{to:"/"}))},Re=function(e){var t=Object(n.useState)(""),a=Object(b.a)(t,2),r=a[0],i=a[1],c=Object(n.useContext)(F).personalData,o=e.currentTimestamp,s=e.data;return Object(n.useEffect)((function(){c&&i(c.admin)}),[c]),l.a.createElement(E.a,{container:!0,style:{margin:"0 auto"}},l.a.createElement(d.a,{elevation:3,style:{height:"fit-content",backgroundColor:"#797979",width:"100%",margin:"20px"}},l.a.createElement(He,{title:"Stan indywidualny",subtitle:"Dane na ".concat(o),data:s,admin:r,currentTimestamp:o})))},qe=function(e){var t=e.dataForUnactiveClients,a=e.currentTimestamp,r=e.data,i=Object(n.useState)(""),c=Object(b.a)(i,2),o=c[0],s=c[1],u=(Object(n.useContext)(T).companyState,Object(n.useContext)(F).personalData),m=Object(n.useContext)(me),p=m.personalStateVisible,f=m.companyMonthlyStateVisible;Object(n.useEffect)((function(){u&&s(u.admin)}),[u]);return l.a.createElement(E.a,{container:!0,item:!0,lg:"true"===p||"true"===f?7:11,style:{margin:"0 auto"}},l.a.createElement(d.a,{elevation:3,style:{height:"fit-content",backgroundColor:"#4f6984",width:"100%",margin:"20px auto"}},l.a.createElement(He,{title:"Stan firmowy og\xf3lny",data:r,dataForUnactiveClients:t,admin:o,company:"true",currentTimestamp:a})))},Je=a(213),Qe=a(4),Xe=a(219),$e=a(203),_e=a(111),et=a.n(_e),tt=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),c=Object(b.a)(i,2),o=c[0],s=c[1],u=Object(n.useContext)(F).personalData,m=Object(Qe.a)((function(e){return{tooltip:{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 0px 10px 2px rgba(63, 81, 181, 0.6)"}}}))(Xe.a);Object(n.useEffect)((function(){u&&s(u.admin)}),[u]);var p=function(){r(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(m,{title:l.a.createElement(g.a,{style:{fontSize:"12px"}},"Dodaj zlecenie"),"aria-label":"add",onClick:function(){r(!0)},placement:"left"},l.a.createElement($e.a,{color:"primary"},l.a.createElement(et.a,null))),l.a.createElement(fe.a,{onClose:p,"aria-labelledby":"simple-dialog-title",open:a},l.a.createElement(Be,{admin:o,handleClose:p})))},at=a(112),nt=a.n(at),lt=Object(Qe.a)((function(e){return{tooltip:{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 0px 10px 2px rgba(63, 81, 181, 0.6)"}}}))(Xe.a),rt=function(){return l.a.createElement(lt,{title:l.a.createElement(g.a,{style:{fontSize:"12px"}},"Um\xf3w spotkanie"),"aria-label":"add",style:{margin:"20px 0"},placement:"left"},l.a.createElement($e.a,{color:"primary"},l.a.createElement(nt.a,null)))},it=a(113),ct=a.n(it),ot=function(){var e=Object(Qe.a)((function(e){return{tooltip:{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 0px 10px 2px rgba(63, 81, 181, 0.6)"}}}))(Xe.a);return l.a.createElement(e,{title:l.a.createElement(g.a,{style:{fontSize:"12px"}},"Zg\u0142o\u015b problem"),"aria-label":"add",placement:"left"},l.a.createElement($e.a,{color:"primary"},l.a.createElement(ct.a,null)))};function st(){var e=Object(P.a)(["\n  background-color: #5f5f5f !important;\n  width: 100%;\n"]);return st=function(){return e},e}function ut(){var e=Object(P.a)(["\n  & * {\n    color: white !important;\n  }\n"]);return ut=function(){return e},e}var mt=B.a.form(ut()),pt=Object(B.a)(te.a)(st()),ft=function(e){var t=e.setCurrentTimestamp,a=e.handleClose,r=Object(n.useState)(R()(new Date)),i=Object(b.a)(r,2),c=i[0],o=i[1];return l.a.createElement(d.a,{style:{width:"500px",padding:"50px",backgroundColor:"#383838",color:"#fff"},elevation:3},l.a.createElement(g.a,{variant:"h6",gutterBottom:!0,style:{textAlign:"center"}},"Sprawd\u017a stan w innych miesi\u0105cach"),l.a.createElement(pt,null),l.a.createElement(mt,{style:{marginTop:"20px"}},l.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:3},l.a.createElement(E.a,{item:!0},l.a.createElement(Me.a,{utils:je.a},l.a.createElement(Ye.a,{disableToolbar:!0,variant:"inline",format:"MMMM YYYY",margin:"normal",id:"date-picker-inline",label:"Stan na",value:c,onChange:function(e){o(e)},style:{margin:"10px 0 20px"},KeyboardButtonProps:{"aria-label":"change date"}}))),l.a.createElement(v.a,{style:{margin:"20px 0"},variant:"contained",color:"primary",onClick:function(){t(c.format("MMMM YYYY")),a()}},"Zatwierd\u017a"))))},bt=a(114),dt=a.n(bt),gt=function(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),r=a[0],i=a[1],c=e.setCurrentTimestamp,o=e.currentTimestamp,s=Object(Qe.a)((function(e){return{tooltip:{backgroundColor:"white",color:"rgba(0, 0, 0, 0.87)",boxShadow:"0px 0px 10px 2px rgba(63, 81, 181, 0.6)"}}}))(Xe.a),u=function(){i(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(s,{title:l.a.createElement(g.a,{style:{fontSize:"12px"}},"Sprawd\u017a stan"),"aria-label":"add",onClick:function(){i(!0)},placement:"left",style:{margin:"20px 0"}},l.a.createElement($e.a,{color:"primary"},l.a.createElement(dt.a,null))),l.a.createElement(fe.a,{onClose:u,"aria-labelledby":"simple-dialog-title",open:r},l.a.createElement(ft,{handleClose:u,setCurrentTimestamp:c,currentTimestamp:o})))},Et=function(e){var t=e.setCurrentTimestamp,a=e.currentTimestamp;return l.a.createElement(X.a,{component:"div",style:{position:"fixed",bottom:"60px",right:"40px",display:"flex",flexDirection:"column"}},l.a.createElement(tt,null),l.a.createElement(rt,null),l.a.createElement(ot,null),l.a.createElement(gt,{setCurrentTimestamp:t,currentTimestamp:a}))},yt=a(67),ht=a.n(yt),Ot=function(e){var t=Object(n.useContext)(F).personalData,a=e.currentTimestamp,r=e.data,i=Object(n.useState)(),c=Object(b.a)(i,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){t&&s(t.admin)}),[t]),l.a.createElement(E.a,{container:!0,style:{margin:"0 auto"}},l.a.createElement(d.a,{elevation:3,style:{height:"fit-content",backgroundColor:"#b17b5b",width:"100%",margin:"20px "}},l.a.createElement(He,{title:"Stan firmowy miesi\u0119czny",subtitle:"Dane na ".concat(a),data:r,admin:o,currentTimestamp:a})))},jt=function(e){var t=e.initials,a=e.currentTimestamp,r=e.name,i=Object(n.useContext)(T).companyState,c=Object(n.useState)(),o=Object(b.a)(c,2),s=o[0],u=o[1];return Object(n.useEffect)((function(){if(i){var e=i.filter((function(e){return e.timestamp===a})).filter((function(e){return e.user===t}));u(e)}}),[i,t,a]),l.a.createElement(E.a,{container:!0,style:{margin:"0 auto"}},l.a.createElement(d.a,{elevation:3,style:{height:"fit-content",backgroundColor:"#797979",width:"100%",margin:"20px"}},l.a.createElement(He,{title:"Stan indywidualny dla ".concat(r," "),subtitle:"Dane na ".concat(a),data:s,admin:"false",currentTimestamp:a})))},xt=function(e){return l.a.createElement(C.a,Object.assign({elevation:6,variant:"filled"},e))},St=function(){var e=Object(n.useContext)(me),t=e.setSuccessDeleteSnackbarOpen,a=e.successDeleteSnackbarOpen,r=e.successSnackbarOpen,i=e.setSuccessSnackbarOpen,c=e.changeCompanyGeneralStateVisible,o=e.changePersonalStateVisible,s=e.personalStateVisible,u=e.companyGeneralStateVisible,p=e.companyMonthlyStateVisible,f=e.changeCompanyMonthlyStateVisible,d=e.usersStateVisible,g=e.changeUsersStateVisible,y=Object(n.useState)(),h=Object(b.a)(y,2),O=h[0],j=h[1],x=Object(n.useState)(),S=Object(b.a)(x,2),v=S[0],C=S[1],w=Object(n.useState)(),k=Object(b.a)(w,2),D=k[0],M=k[1],Y=Object(n.useState)(),V=Object(b.a)(Y,2),z=V[0],I=V[1],A=Object(n.useState)(),P=Object(b.a)(A,2),B=P[0],L=P[1],Z=Object(n.useContext)(T).companyState,G=Object(n.useContext)(F).personalData,K=Object(n.useContext)(U).users;Object(n.useEffect)((function(){j(R()(new Date).format("MMMM YYYY"))}),[]),Object(n.useEffect)((function(){if(Z&&O){var e=Z.filter((function(e){return e.dluMinusStart}));console.log(e);for(var t=0;t<e.length;t++){console.log(e[t]);var a=R()(e[t].dluMinusStart).format("YYYY-MM-DD"),n=R()(O,"MMMM YYYY").format("YYYY-MM-DD");if(R()(a).isAfter(n,"month")){if(!e[t].minus)return;console.log(e[t]),m.firestore().collection("company-state-general").doc(e[t].id).set(e[t].originalData).catch((function(e){return console.log(e)})).then((function(){}))}else if(!R()(a).isAfter(n,"month")){if(e[t].minus)return;m.firestore().collection("company-state-general").doc(e[t].id).set({title:e[t].title,date:R()(e[t].dluMinusStart).format("L"),minus:"DLU",plus:null,user:e[t].user,temporaryCommision:e[t].temporaryCommision,firstUser:e[t].firstUser,nextUser:e[t].nextUser,commisionStartDate:e[t].dluMinusStart,commisionChangeDate:e[t].commisionChangeDate,rawDate:e[t].rawDate,timestamp:R()(e[t].dluMinusStart).format("MMMM YYYY"),id:e[t].id,dluMinusStart:e[t].dluMinusStart,originalData:e[t]}).catch((function(e){return console.log(e)})).then((function(){}))}}}}),[O,Z]),Object(n.useEffect)((function(){Z&&G&&(C(Z.filter((function(e){return e.timestamp===O}))),L(Z.filter((function(e){return R()(e.timestamp,"MMMM YYYY").isBefore(R()(O,"MMMM YYYY"),"month")||e.timestamp===O||""===e.timestamp}))),I(Z.filter((function(e){return e.minus})).filter((function(e){return"DLU"===e.minus})).filter((function(e){return R()(e.timestamp,"MMMM YYYY").isBefore(R()(O,"MMMM YYYY"),"month")||e.timestamp===O||""===e.timestamp}))),G.admin?M(Z.filter((function(e){return e.timestamp===O})).filter((function(e){return"Q"===e.user}))):M(Z.filter((function(e){return e.timestamp===O})).filter((function(e){return e.user===G.initials}))))}),[C,Z,O,G]);var W=function(e,a){"clickaway"!==a&&(i(!1),t(!1))},H=function(e,t){return function(){"personal"===e?o("true"===s?"false":"true"):"company-general"===e?c("true"===u?"false":"true"):"users"===e?"true"===d[t]?g("false",t):g("true",t):f("true"===p?"false":"true")}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{container:!0,item:!0,justify:"space-around",xs:11},l.a.createElement(E.a,{container:!0,style:{margin:"20px 40px"}},l.a.createElement(_.a,{avatar:l.a.createElement(N.a,null,"true"===s?l.a.createElement(ht.a,null):l.a.createElement(Ke.a,null)),label:"Stan indywidualny",clickable:!0,color:"primary",onClick:H("personal"),style:{opacity:"".concat("true"===s?1:.6),margin:"10px"}}),l.a.createElement(_.a,{avatar:l.a.createElement(N.a,null,"true"===p?l.a.createElement(ht.a,null):l.a.createElement(Ke.a,null)),label:"Stan firmowy miesi\u0119czny",clickable:!0,color:"primary",onClick:H("company-monthly"),style:{opacity:"".concat("true"===p?1:.6),margin:"10px"}}),l.a.createElement(_.a,{avatar:l.a.createElement(N.a,null,"true"===u?l.a.createElement(ht.a,null):l.a.createElement(Ke.a,null)),label:"Stan firmowy og\xf3lny",clickable:!0,color:"primary",onClick:H("company-general"),style:{opacity:"".concat("true"===u?1:.6),margin:"10px"}}),K?l.a.createElement(l.a.Fragment,null,K.map((function(e){return e.initials===G.initials?null:l.a.createElement(_.a,{avatar:l.a.createElement(N.a,null,"true"===d[e.initials]?l.a.createElement(ht.a,null):l.a.createElement(Ke.a,null)),label:"".concat(e.initials),clickable:!0,onClick:H("users","".concat(e.initials)),style:{opacity:"".concat("true"===d[e.initials]?1:.6),margin:"10px",backgroundColor:"".concat(e.color)}})}))):null),l.a.createElement(E.a,{container:!0,item:!0,direction:"column",lg:"true"===u?5:10,style:{height:"fit-content"}},"true"===p?l.a.createElement(Ot,{currentTimestamp:O,data:v}):null,"true"===s?l.a.createElement(Re,{currentTimestamp:O,data:D}):null),"true"===u?l.a.createElement(qe,{dataForUnactiveClients:z,currentTimestamp:O,data:B}):null,K?l.a.createElement(l.a.Fragment,null,K.map((function(e){return e.initials===G.initials?null:l.a.createElement(l.a.Fragment,null,"true"===d[e.initials]?l.a.createElement(jt,{key:e.initials,initials:e.initials,name:e.name,currentTimestamp:O}):null)}))):null),l.a.createElement(Et,{setCurrentTimestamp:j,currentTimestamp:O}),l.a.createElement(Je.a,{open:r,autoHideDuration:6e3,onClose:W,anchorOrigin:{vertical:"bottom",horizontal:"left"}},l.a.createElement(xt,{onClose:W,severity:"success"},"Pomy\u015blnie dodano zlecenie!")),l.a.createElement(Je.a,{open:a,autoHideDuration:6e3,onClose:W,anchorOrigin:{vertical:"bottom",horizontal:"left"}},l.a.createElement(xt,{onClose:W,severity:"success"},"Pomy\u015blnie usuni\u0119to zlecenie!")))},vt=function(){return l.a.createElement(z,null,l.a.createElement(I,null,l.a.createElement(V,null,l.a.createElement(pe,null,l.a.createElement(c.a,{basename:"/"},l.a.createElement(W,null),l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0,component:A}),l.a.createElement(o.b,{path:"/dashboard",component:St})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.Fragment,null,l.a.createElement(vt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[137,1,2]]]);
//# sourceMappingURL=main.a08af141.chunk.js.map